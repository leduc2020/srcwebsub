RewriteEngine On

<Files .env>
    Order allow,deny
    Deny from all
</Files>

<FilesMatch "\.DS_Store$">
    Order allow,deny
    Deny from all
</FilesMatch>

#Xử lý Route CTV

#Xử lý Route ADMIN


#Xử lý Route CLIENT
RewriteRule ^blogs index.php?module=client&action=blogs [L]
RewriteRule ^blog/([A-Za-z0-9-]+) index.php?module=client&action=blog&slug=$1 [L]
RewriteRule ^document-api index.php?module=client&action=document-api [L]
RewriteRule ^verify-google-login api/callback_google_login.php [L]
RewriteRule ^order index.php?module=client&action=order [L]
RewriteRule ^client/home index.php?module=client&action=order [L]
RewriteRule ^ticket-detail/([A-Za-z0-9-]+) index.php?module=client&action=ticket-detail&id=$1 [L]
RewriteRule ^api/v2 ajaxs/client/smmpanel.php?order_source=api [L]
RewriteRule ^service/([A-Za-z0-9-]+)/([A-Za-z0-9-]+)/([A-Za-z0-9-]+) index.php?module=client&action=order&platform=$1&category=$2&service_id=$3 [L]
RewriteRule ^service/([A-Za-z0-9-]+)/([A-Za-z0-9-]+) index.php?module=client&action=order&platform=$1&category=$2 [L]
RewriteRule ^service/([A-Za-z0-9-]+) index.php?module=client&action=order&platform=$1 [L]
RewriteRule ^payment/([A-Za-z0-9-]+) index.php?module=client&action=recharge-bank&trans_id=$1 [L]
RewriteRule ^recharge-manual/([A-Za-z0-9-]+) index.php?module=client&action=recharge-manual&slug=$1 [L]
RewriteRule ^login index.php?module=client&action= [L]
RewriteRule ^Dashbroad index.php?module=client&action= [L]
RewriteRule ^Auth/Login index.php?module=client&action= [L]
RewriteRule ^join/([A-Za-z0-9-]+) index.php?module=client&action=home&aff=$1 [L]
RewriteRule ^client/home/([A-Za-z0-9-]+) index.php?module=client&action=home&shop=$1 [L]
RewriteRule ^client/([A-Za-z0-9-]+) index.php?module=client&action=$1 [L]
RewriteRule ^client index.php?module=client&action= [L]
#Xử lý Route COMMON
RewriteRule ^common/([A-Za-z0-9-]+) index.php?module=common&action=$1 [L]


# Xử lý thay đổi ngôn ngữ từ URL (đặt cuối cùng để tránh xung đột)
# Chỉ áp dụng nếu không phải là file hoặc thư mục thật
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^([a-z]{2,5})/?$ views/client/set-language.php?lang=$1 [L,QSA]